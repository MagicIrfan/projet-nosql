CREATE TABLE Users (
    UserId INT IDENTITY(1,1) PRIMARY KEY,
    UserName VARCHAR(50)
);

CREATE TABLE Products (
    ProductId INT IDENTITY(1,1) PRIMARY KEY,
    ProductName VARCHAR(100)
);

CREATE TABLE Purchases (
    PurchaseId INT IDENTITY(1,1) PRIMARY KEY,
    UserId INT,
    ProductId INT,
    FOREIGN KEY (UserId) REFERENCES Users(UserId),
    FOREIGN KEY (ProductId) REFERENCES Products(ProductId)
);

CREATE TABLE Followers (
    FollowerId INT,
    FollowedId INT,
    PRIMARY KEY (FollowerId, FollowedId),
    FOREIGN KEY (FollowerId) REFERENCES Users(UserId),
    FOREIGN KEY (FollowedId) REFERENCES Users(UserId)
);

INSERT INTO Products (ProductName) VALUES 
    ('Laptop'), ('Phone'), ('Tablet'), ('Smartwatch'), ('Headphones');

CREATE INDEX IDX_Followers_FollowerId ON Followers (FollowerId);
CREATE INDEX IDX_Followers_FollowedId ON Followers (FollowedId);
CREATE INDEX IDX_Purchases_UserId ON Purchases (UserId);
CREATE INDEX IDX_Purchases_ProductId ON Purchases (ProductId);

